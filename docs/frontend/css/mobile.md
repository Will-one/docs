---
title: '移动端相关'
categories:
- frontend
tags:
- css
---

## P136-P137 像素 视口
**像素：**  
* 前端开发中像素分为两种情况讨论：css像素 和 物理像素
  * 浏览器在显示网页时，需要将css像素转换为物理像素，然后再呈现
  * 一个css像素最终由几个物理像素呈现，有浏览器决定
  * 默认情况下，一个css像素 = 一个物理像素
      
**视口：**
* 视口是屏幕中用来显示网页的区域
* 可以通过查看视口大小，来观察css像素和物理像素的比值
  * 默认情况下（举例）：
    * 视口宽 1920px (css像素) 对应 1920px (物理像素)
    * 此时，css像素 与 物理像素 的比是 1 : 1
  * 网页放大两倍（举例）：
    * 视口宽 960px (css像素) 对应 1920px (物理像素)
    * 此时，css像素 与 物理像素 的比是 1 : 2
* 我们可以通过改变视口的大小，来改变css像素和物理像素的比例

**手机像素：**
* 在不同的屏幕，单位像素的大小是不同的，像素越小屏幕会越清晰
* 默认情况下，移动端的网页会将视口设置为980像素（css像素）
    * 如果网页的宽度超过了980，移动端浏览器会自动对网页缩放以完整显示网页
* 移动端可以访问大部分PC端网页，但是体验欠佳。需要为移动端专门设计网页

## p138 完美视口
通过meta标签来改变视口大小
* 将像素比设置为最佳像素比的视口大小，就得到了完美视口
* 在meta中也就是设置
```html
<meta name="viewport" content="width=device-width, initial-scale=1.0">
```

## p139-p140 vm单位适配
不同移动设备的视口宽度是不一样的。如果继续使用px作为单位，布局在不同设备上表现不一。
:::tip
* 在进行移动端开发的时候，不再使用px作为单位
* 移动端开发，可以使用vw作为单位（viewport-width）
    * 100vw ：一个视口的宽度
    * 1vw ：%1视口宽度
:::
目前设计图一般是两倍图或者三倍图
:::tip
* 以iphone6为例
    * 屏幕横向 物理分辨率 750px
    * 完美视口css分辨率 375px
* 也就是用两个物理像素点去显示一个css像素
* 如果此时设计图也按375px来设计，不够清晰
* 所以使用750px两倍图，1125px的三倍图。
:::

设计图和 vw 单位间换算麻烦，所以这里涉及到 vm 适配。
:::tip
* 100vm 对应 两倍设计图750px ：0.133333vm = 1px
* 此时利用单位rem（html中字体的大小）进行设置
:::
```css
html{
    /*
        网页中字体大小最小是12px，不能设置一个比12px还小的字体
        如果设置了，会自动变为12px
        0.133333vm = 1px
        扩大40倍
        5.3333vm = 40px
    */
    /* font-size: 0.13333vm; */
    font-size: 5.3333vm;
}

.box1{
    /* 设计图中 width:100px */
    /* 设计图中 height:100px */
    width: 2.5rem;
    height: 2.5rem;
}
```

## p143-p144 媒体查询
:::tip
通过媒体查询可以创建响应式的网页
使用媒体查询。
* 语法：@media 查询规则{}
:::
查询规则有：

* 媒体类型
  * all 所有设备
  * print 打印设备
  * screen 带屏幕的设备
  * speech 屏幕阅读器


* 媒体特性
  * width 视口宽度
  * height 视口高度
  * min-width 视口最小宽度（视口大于指定宽度时生效）
  * max-width 视口最大宽度（视口小于指定宽度时生效）

:::tip
样式切换的分界点，我们称其为断点
|区间|描述|
|-|-|
|< 768px|超小屏幕|
|> 768px|小屏幕|
|> 992px|中屏幕|
|> 1200px|大屏幕|
:::
```css
/* 
    可以使用逗号连接媒体类型 
    可以在媒体类型前添加only，为了兼容老版本浏览器

    多个查询规则之间
        逗号：表示或
        and：表示与
        not：非
*/
/* 对大于500px且小于700px的视口生效 */
@media only screen and (max-width:700px) and (min-width:500px){
    body{
        background-color: #bfa;
    }
}
```