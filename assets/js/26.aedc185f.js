(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{568:function(a,s,t){"use strict";t.r(s);var e=t(10),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"p26-npm-与-包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#p26-npm-与-包"}},[a._v("#")]),a._v(" P26 npm 与 包")]),a._v(" "),t("p",[a._v("第三方开发的js模块,基于内置模块封装出来的,就是包")]),a._v(" "),t("p",[a._v("包的管理和下载服务:")]),a._v(" "),t("ul",[t("li",[a._v("npm, Inc. 公司提供: https://www.npmjs.com/, 全球最大的包共享平台")]),a._v(" "),t("li",[a._v("同时提供了 https://registry.npmjs.org/, 对外共享包, 提供下载服务")]),a._v(" "),t("li",[a._v("当安装Node.js的时候, 同时也安装了npm(Node Package Manager)包管理工具, npm -v查看版本")])]),a._v(" "),t("h2",{attrs:{id:"p28-p29-使用npm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#p28-p29-使用npm"}},[a._v("#")]),a._v(" P28-P29 使用npm")]),a._v(" "),t("h3",{attrs:{id:"package-json-和-package-lock-json"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#package-json-和-package-lock-json"}},[a._v("#")]),a._v(" package.json 和 package-lock.json")]),a._v(" "),t("p",[a._v("package.json：")]),a._v(" "),t("ul",[t("li",[a._v("包管理配置文件")]),a._v(" "),t("li",[a._v("记录的是当前项目中下载了哪些包(即 npm install xx的包信息), 记录了下载的包信息(地址, 版本号等),不包含依赖包信息")]),a._v(" "),t("li",[a._v("配置哪些包只在开发期间会用到，哪些开发和部署的时候都需要")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("// 手动创建package.json\nnpm init -y\n")])])]),t("p",[a._v("package-lock.json记录当前项目下载了哪些包以及这些包所依赖的包信息, 包括地址版本号、版本号等。主要作用有一下亮点：")]),a._v(" "),t("ul",[t("li",[a._v("当删除node_modules目录时，想通过npm install 恢复所有包时，提升下载速度。")]),a._v(" "),t("li",[a._v("锁定版本号，防止自动升级新版本")])]),a._v(" "),t("h3",{attrs:{id:"安装指定版本的包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装指定版本的包"}},[a._v("#")]),a._v(" 安装指定版本的包")]),a._v(" "),t("p",[a._v("默认安装包时，安装的都是最新版本。可以通过 @ 指定具体的版本")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm i moment@2.22.2\n")])])]),t("h3",{attrs:{id:"查看包的版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看包的版本"}},[a._v("#")]),a._v(" 查看包的版本")]),a._v(" "),t("p",[a._v("查看包的所有可用版本")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm view 包名 versions\n")])])]),t("p",[a._v("查看包最新的正式版本")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm view 包名 version\n")])])]),t("h3",{attrs:{id:"包的语意化版本规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#包的语意化版本规范"}},[a._v("#")]),a._v(" 包的语意化版本规范")]),a._v(" "),t("p",[a._v("包的版本是以 ‘点分十进制’ 形式进行定义的，总共有三位数字，例如2.24.0")]),a._v(" "),t("p",[a._v("其中每一位数字所代表的语意含义如下：")]),a._v(" "),t("ul",[t("li",[a._v("第一位数字：大版本")]),a._v(" "),t("li",[a._v("第二位数字：功能版本")]),a._v(" "),t("li",[a._v("第三位数字：Bug修复版本")])]),a._v(" "),t("h3",{attrs:{id:"npm-卸载包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm-卸载包"}},[a._v("#")]),a._v(" npm 卸载包")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm uninstall 对应包\n")])])]),t("h3",{attrs:{id:"devdependencies节点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#devdependencies节点"}},[a._v("#")]),a._v(" devDependencies节点")]),a._v(" "),t("p",[a._v("如果某些包只在开发阶段用到，在项目上线后不用，则建议将包记录到devDependencies节点中")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("//安装指定的包，并记录到devDependencies 节点中\nnpm i 包名 -D\n// 上面的命令是简写\nnpm install 包名 --save-dev\n")])])]),t("h2",{attrs:{id:"p30-解决npm下包慢的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#p30-解决npm下包慢的问题"}},[a._v("#")]),a._v(" P30 解决npm下包慢的问题")]),a._v(" "),t("p",[a._v("淘宝npm镜像服务器：")]),a._v(" "),t("ul",[t("li",[a._v("淘宝在国内搭建了一个服务器，将国外npm官方服务器的包同步到国内的服务器，在国内提供下载服务")])]),a._v(" "),t("p",[a._v("如何使用淘宝镜像")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("// 查看当前的下包镜像源\nnpm config get registry\n\n// 将下包的镜像源切换为淘宝镜像\nnpm config set registry=https://registry.npm.taobao.org/\n")])])]),t("h3",{attrs:{id:"nrm工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nrm工具"}},[a._v("#")]),a._v(" nrm工具")]),a._v(" "),t("p",[a._v("可以下载nrm工具，快速查看和切换下包额镜像源。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("// 通过 npm 包管理器，将 nrm安装为全局可用的工具\nnpm i nrm -g\n// 查看所有可用的镜像源\nnrm ls\n// 将下包镜像切换为taobao镜像\nnrm use taobao\n")])])]),t("h2",{attrs:{id:"p31-包的分类-规范包的结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#p31-包的分类-规范包的结构"}},[a._v("#")]),a._v(" P31 包的分类 & 规范包的结构")]),a._v(" "),t("h3",{attrs:{id:"包的分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#包的分类"}},[a._v("#")]),a._v(" 包的分类")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("项目包\n哪些被安装到项目 node_modules 目录中的包，都是项目包")]),a._v(" "),t("p",[a._v("项目包又分为两类，分别是：")]),a._v(" "),t("ul",[t("li",[a._v("开发依赖包 （被记录到devDependencies节点中的包，只在开发期间会用到）")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm i 包名 -D\n")])])]),t("ul",[t("li",[a._v("核心依赖包 （被记录到dependencies节点，开发上线都会使用）")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm i 包名\n")])])])]),a._v(" "),t("li",[t("p",[a._v("全局包\n在执行 npm install 命令时，如果提供了 -g 参数，则会把包安装为全局包\n全局包会被安装到 c:\\Users\\用户目录\\AppData\\Roaming\\npm\\node_modules目录下")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm i 包名 -g\nnpm uninstall 包名 -g\n")])])])]),a._v(" "),t("li",[t("p",[a._v("实用包推荐\ni5ting_toc : 是一个可以把md文档转为 html 页面的小工具，使用步骤如下")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install -g i5ting_toc\n\n// 调用，实现 md 转 html\ni5ting_toc -f md路径 -o\n")])])])])]),a._v(" "),t("h3",{attrs:{id:"规范的包结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#规范的包结构"}},[a._v("#")]),a._v(" 规范的包结构")]),a._v(" "),t("p",[a._v("一个规范的包，它的组成结构，必须符合以下3点要求")]),a._v(" "),t("ol",[t("li",[a._v("包必须以单独的目录存在")]),a._v(" "),t("li",[a._v("包的顶级目录下必须要包含 package.json 这个包管理配置文件")]),a._v(" "),t("li",[a._v("package.json 中必须包含 name，version，main 这三个属性，分别代表包的名字、版本号、包的入口")])]),a._v(" "),t("h2",{attrs:{id:"p32-开发自己的包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#p32-开发自己的包"}},[a._v("#")]),a._v(" p32 开发自己的包")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("初始化包的基本结构")]),a._v(" "),t("ol",[t("li",[a._v("新建 willone-tools 包的文件夹，作为包的根目录")]),a._v(" "),t("li",[a._v("在 willone-tools 文件夹中，新建\n"),t("ul",[t("li",[a._v("package.json 包管理文件")]),a._v(" "),t("li",[a._v("index.js     包入口文件")]),a._v(" "),t("li",[a._v("README.md    包说明文件")])])])])]),a._v(" "),t("li",[t("p",[a._v("初始化 package.json")])])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n    "name": "willone-tools",\n    "version": "1.0.0",\n    "main": "index.js",\n    "description": "格式化时间，htmlEscape功能",\n    "keywords": ["willone", "dateFormat", "escape"],\n    "license": "ISC"\n}\n')])])]),t("ol",{attrs:{start:"3"}},[t("li",[t("p",[a._v("多个功能可以拆分到src目录下对应的js文件中")]),a._v(" "),t("ol",[t("li",[a._v("拆分功能并向外暴露")]),a._v(" "),t("li",[a._v("在index.js中导入，可以使用...扩展运算符将引入模块的对象合并为一个，再向外暴露")])])]),a._v(" "),t("li",[t("p",[a._v("编写包的说明文档\n包根目录中README.md文件，是包的实用说明文档。通过它，可以事先把包的使用说明，以markdown的格式写出来。")]),a._v(" "),t("p",[a._v("README 文件中具体写什么内容，没有强制性的要求，只要能够清晰地把包的作用、用法、注意事项等描述清楚即可")])])]),a._v(" "),t("h2",{attrs:{id:"p36-发布npm包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#p36-发布npm包"}},[a._v("#")]),a._v(" P36 发布npm包")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("注册npm账号")])]),a._v(" "),t("li",[t("p",[a._v("在终端中登录npm\n执行 npm login 命令，依次输入用户名、密码、邮箱后，即可登录成功")])]),a._v(" "),t("li",[t("p",[a._v("把包发布到 npm 上\n将终端切换到包的根目录之后，运行 npm publish 命令，即可将包发布到npm上（注意：包名不能雷同）")])]),a._v(" "),t("li",[t("p",[a._v("删除已发布的包\n运行 npm unpublish 包名 --force 命令，即可从npm删除已发布的包")]),a._v(" "),t("p",[a._v("注意：")]),a._v(" "),t("ol",[t("li",[a._v("npm unpublish 命令只能删除72小时以内发布的包")]),a._v(" "),t("li",[a._v("npm unpublish 删除的包，在24小时内不允许重新发布")]),a._v(" "),t("li",[a._v("发布包的时候要慎重，尽量不要往 npm上发布没有意义的包")])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);